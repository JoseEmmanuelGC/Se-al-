<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <title>Gráfica de señal</title>
  </head>
  <body>
    <script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
    <div id="chart_div"></div>
  </body>

  <script>
    google.charts.load('current', {packages: ['corechart', 'line']});
    google.charts.setOnLoadCallback(drawChart);

    function func(x) {
      return Math.sin(x) + Math.random();
    }

    function firstData(n) {
      array = [];
      for (var i = 0; i < n; i++) {
        tuple = [i / 10, func(i / 10)];
        array.push(tuple);
      }
      return array;
    }

    function drawChart() {
      let time = 200;

      var data = new google.visualization.DataTable();
      data.addColumn('number', '');
      data.addColumn('number', '');

      data.addRows(firstData(time));

      var options = {
        hAxis: {
          title: 'X'
        },
        vAxis: {
          title: 'Y'
        },
        colors: ['#a52714', '#097138'],
        curveType: 'function',
      };

      var chart = new google.visualization.LineChart(document.getElementById('chart_div'));
      chart.draw(data, options);

      
      function addData() {
        time += 1;
        data.removeRow(0);
        data.addRow([time / 10, func(time / 10)]);
        chart.draw(data, options)
      }

      setInterval(addData, 250)
    }
  </script>
</html>